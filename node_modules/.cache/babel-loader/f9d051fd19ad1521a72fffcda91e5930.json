{"ast":null,"code":"import { Konva } from './Global.js';\nexport class Transform {\n  constructor() {\n    let m = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [1, 0, 0, 1, 0, 0];\n    this.dirty = false;\n    this.m = m && m.slice() || [1, 0, 0, 1, 0, 0];\n  }\n\n  reset() {\n    this.m[0] = 1;\n    this.m[1] = 0;\n    this.m[2] = 0;\n    this.m[3] = 1;\n    this.m[4] = 0;\n    this.m[5] = 0;\n  }\n\n  copy() {\n    return new Transform(this.m);\n  }\n\n  copyInto(tr) {\n    tr.m[0] = this.m[0];\n    tr.m[1] = this.m[1];\n    tr.m[2] = this.m[2];\n    tr.m[3] = this.m[3];\n    tr.m[4] = this.m[4];\n    tr.m[5] = this.m[5];\n  }\n\n  point(point) {\n    var m = this.m;\n    return {\n      x: m[0] * point.x + m[2] * point.y + m[4],\n      y: m[1] * point.x + m[3] * point.y + m[5]\n    };\n  }\n\n  translate(x, y) {\n    this.m[4] += this.m[0] * x + this.m[2] * y;\n    this.m[5] += this.m[1] * x + this.m[3] * y;\n    return this;\n  }\n\n  scale(sx, sy) {\n    this.m[0] *= sx;\n    this.m[1] *= sx;\n    this.m[2] *= sy;\n    this.m[3] *= sy;\n    return this;\n  }\n\n  rotate(rad) {\n    var c = Math.cos(rad);\n    var s = Math.sin(rad);\n    var m11 = this.m[0] * c + this.m[2] * s;\n    var m12 = this.m[1] * c + this.m[3] * s;\n    var m21 = this.m[0] * -s + this.m[2] * c;\n    var m22 = this.m[1] * -s + this.m[3] * c;\n    this.m[0] = m11;\n    this.m[1] = m12;\n    this.m[2] = m21;\n    this.m[3] = m22;\n    return this;\n  }\n\n  getTranslation() {\n    return {\n      x: this.m[4],\n      y: this.m[5]\n    };\n  }\n\n  skew(sx, sy) {\n    var m11 = this.m[0] + this.m[2] * sy;\n    var m12 = this.m[1] + this.m[3] * sy;\n    var m21 = this.m[2] + this.m[0] * sx;\n    var m22 = this.m[3] + this.m[1] * sx;\n    this.m[0] = m11;\n    this.m[1] = m12;\n    this.m[2] = m21;\n    this.m[3] = m22;\n    return this;\n  }\n\n  multiply(matrix) {\n    var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n    var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n    var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n    var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n    var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n    var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n    this.m[0] = m11;\n    this.m[1] = m12;\n    this.m[2] = m21;\n    this.m[3] = m22;\n    this.m[4] = dx;\n    this.m[5] = dy;\n    return this;\n  }\n\n  invert() {\n    var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n    var m0 = this.m[3] * d;\n    var m1 = -this.m[1] * d;\n    var m2 = -this.m[2] * d;\n    var m3 = this.m[0] * d;\n    var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n    var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n    this.m[0] = m0;\n    this.m[1] = m1;\n    this.m[2] = m2;\n    this.m[3] = m3;\n    this.m[4] = m4;\n    this.m[5] = m5;\n    return this;\n  }\n\n  getMatrix() {\n    return this.m;\n  }\n\n  setAbsolutePosition(x, y) {\n    var m0 = this.m[0],\n        m1 = this.m[1],\n        m2 = this.m[2],\n        m3 = this.m[3],\n        m4 = this.m[4],\n        m5 = this.m[5],\n        yt = (m0 * (y - m5) - m1 * (x - m4)) / (m0 * m3 - m1 * m2),\n        xt = (x - m4 - m2 * yt) / m0;\n    return this.translate(xt, yt);\n  }\n\n  decompose() {\n    var a = this.m[0];\n    var b = this.m[1];\n    var c = this.m[2];\n    var d = this.m[3];\n    var e = this.m[4];\n    var f = this.m[5];\n    var delta = a * d - b * c;\n    let result = {\n      x: e,\n      y: f,\n      rotation: 0,\n      scaleX: 0,\n      scaleY: 0,\n      skewX: 0,\n      skewY: 0\n    };\n\n    if (a != 0 || b != 0) {\n      var r = Math.sqrt(a * a + b * b);\n      result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n      result.scaleX = r;\n      result.scaleY = delta / r;\n      result.skewX = (a * c + b * d) / delta;\n      result.skewY = 0;\n    } else if (c != 0 || d != 0) {\n      var s = Math.sqrt(c * c + d * d);\n      result.rotation = Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n      result.scaleX = delta / s;\n      result.scaleY = s;\n      result.skewX = 0;\n      result.skewY = (a * c + b * d) / delta;\n    } else {}\n\n    result.rotation = Util._getRotation(result.rotation);\n    return result;\n  }\n\n}\nvar OBJECT_ARRAY = '[object Array]',\n    OBJECT_NUMBER = '[object Number]',\n    OBJECT_STRING = '[object String]',\n    OBJECT_BOOLEAN = '[object Boolean]',\n    PI_OVER_DEG180 = Math.PI / 180,\n    DEG180_OVER_PI = 180 / Math.PI,\n    HASH = '#',\n    EMPTY_STRING = '',\n    ZERO = '0',\n    KONVA_WARNING = 'Konva warning: ',\n    KONVA_ERROR = 'Konva error: ',\n    RGB_PAREN = 'rgb(',\n    COLORS = {\n  aliceblue: [240, 248, 255],\n  antiquewhite: [250, 235, 215],\n  aqua: [0, 255, 255],\n  aquamarine: [127, 255, 212],\n  azure: [240, 255, 255],\n  beige: [245, 245, 220],\n  bisque: [255, 228, 196],\n  black: [0, 0, 0],\n  blanchedalmond: [255, 235, 205],\n  blue: [0, 0, 255],\n  blueviolet: [138, 43, 226],\n  brown: [165, 42, 42],\n  burlywood: [222, 184, 135],\n  cadetblue: [95, 158, 160],\n  chartreuse: [127, 255, 0],\n  chocolate: [210, 105, 30],\n  coral: [255, 127, 80],\n  cornflowerblue: [100, 149, 237],\n  cornsilk: [255, 248, 220],\n  crimson: [220, 20, 60],\n  cyan: [0, 255, 255],\n  darkblue: [0, 0, 139],\n  darkcyan: [0, 139, 139],\n  darkgoldenrod: [184, 132, 11],\n  darkgray: [169, 169, 169],\n  darkgreen: [0, 100, 0],\n  darkgrey: [169, 169, 169],\n  darkkhaki: [189, 183, 107],\n  darkmagenta: [139, 0, 139],\n  darkolivegreen: [85, 107, 47],\n  darkorange: [255, 140, 0],\n  darkorchid: [153, 50, 204],\n  darkred: [139, 0, 0],\n  darksalmon: [233, 150, 122],\n  darkseagreen: [143, 188, 143],\n  darkslateblue: [72, 61, 139],\n  darkslategray: [47, 79, 79],\n  darkslategrey: [47, 79, 79],\n  darkturquoise: [0, 206, 209],\n  darkviolet: [148, 0, 211],\n  deeppink: [255, 20, 147],\n  deepskyblue: [0, 191, 255],\n  dimgray: [105, 105, 105],\n  dimgrey: [105, 105, 105],\n  dodgerblue: [30, 144, 255],\n  firebrick: [178, 34, 34],\n  floralwhite: [255, 255, 240],\n  forestgreen: [34, 139, 34],\n  fuchsia: [255, 0, 255],\n  gainsboro: [220, 220, 220],\n  ghostwhite: [248, 248, 255],\n  gold: [255, 215, 0],\n  goldenrod: [218, 165, 32],\n  gray: [128, 128, 128],\n  green: [0, 128, 0],\n  greenyellow: [173, 255, 47],\n  grey: [128, 128, 128],\n  honeydew: [240, 255, 240],\n  hotpink: [255, 105, 180],\n  indianred: [205, 92, 92],\n  indigo: [75, 0, 130],\n  ivory: [255, 255, 240],\n  khaki: [240, 230, 140],\n  lavender: [230, 230, 250],\n  lavenderblush: [255, 240, 245],\n  lawngreen: [124, 252, 0],\n  lemonchiffon: [255, 250, 205],\n  lightblue: [173, 216, 230],\n  lightcoral: [240, 128, 128],\n  lightcyan: [224, 255, 255],\n  lightgoldenrodyellow: [250, 250, 210],\n  lightgray: [211, 211, 211],\n  lightgreen: [144, 238, 144],\n  lightgrey: [211, 211, 211],\n  lightpink: [255, 182, 193],\n  lightsalmon: [255, 160, 122],\n  lightseagreen: [32, 178, 170],\n  lightskyblue: [135, 206, 250],\n  lightslategray: [119, 136, 153],\n  lightslategrey: [119, 136, 153],\n  lightsteelblue: [176, 196, 222],\n  lightyellow: [255, 255, 224],\n  lime: [0, 255, 0],\n  limegreen: [50, 205, 50],\n  linen: [250, 240, 230],\n  magenta: [255, 0, 255],\n  maroon: [128, 0, 0],\n  mediumaquamarine: [102, 205, 170],\n  mediumblue: [0, 0, 205],\n  mediumorchid: [186, 85, 211],\n  mediumpurple: [147, 112, 219],\n  mediumseagreen: [60, 179, 113],\n  mediumslateblue: [123, 104, 238],\n  mediumspringgreen: [0, 250, 154],\n  mediumturquoise: [72, 209, 204],\n  mediumvioletred: [199, 21, 133],\n  midnightblue: [25, 25, 112],\n  mintcream: [245, 255, 250],\n  mistyrose: [255, 228, 225],\n  moccasin: [255, 228, 181],\n  navajowhite: [255, 222, 173],\n  navy: [0, 0, 128],\n  oldlace: [253, 245, 230],\n  olive: [128, 128, 0],\n  olivedrab: [107, 142, 35],\n  orange: [255, 165, 0],\n  orangered: [255, 69, 0],\n  orchid: [218, 112, 214],\n  palegoldenrod: [238, 232, 170],\n  palegreen: [152, 251, 152],\n  paleturquoise: [175, 238, 238],\n  palevioletred: [219, 112, 147],\n  papayawhip: [255, 239, 213],\n  peachpuff: [255, 218, 185],\n  peru: [205, 133, 63],\n  pink: [255, 192, 203],\n  plum: [221, 160, 203],\n  powderblue: [176, 224, 230],\n  purple: [128, 0, 128],\n  rebeccapurple: [102, 51, 153],\n  red: [255, 0, 0],\n  rosybrown: [188, 143, 143],\n  royalblue: [65, 105, 225],\n  saddlebrown: [139, 69, 19],\n  salmon: [250, 128, 114],\n  sandybrown: [244, 164, 96],\n  seagreen: [46, 139, 87],\n  seashell: [255, 245, 238],\n  sienna: [160, 82, 45],\n  silver: [192, 192, 192],\n  skyblue: [135, 206, 235],\n  slateblue: [106, 90, 205],\n  slategray: [119, 128, 144],\n  slategrey: [119, 128, 144],\n  snow: [255, 255, 250],\n  springgreen: [0, 255, 127],\n  steelblue: [70, 130, 180],\n  tan: [210, 180, 140],\n  teal: [0, 128, 128],\n  thistle: [216, 191, 216],\n  transparent: [255, 255, 255, 0],\n  tomato: [255, 99, 71],\n  turquoise: [64, 224, 208],\n  violet: [238, 130, 238],\n  wheat: [245, 222, 179],\n  white: [255, 255, 255],\n  whitesmoke: [245, 245, 245],\n  yellow: [255, 255, 0],\n  yellowgreen: [154, 205, 5]\n},\n    RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/,\n    animQueue = [];\n\nconst req = typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame || function (f) {\n  setTimeout(f, 60);\n};\n\nexport const Util = {\n  _isElement(obj) {\n    return !!(obj && obj.nodeType == 1);\n  },\n\n  _isFunction(obj) {\n    return !!(obj && obj.constructor && obj.call && obj.apply);\n  },\n\n  _isPlainObject(obj) {\n    return !!obj && obj.constructor === Object;\n  },\n\n  _isArray(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n  },\n\n  _isNumber(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_NUMBER && !isNaN(obj) && isFinite(obj);\n  },\n\n  _isString(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_STRING;\n  },\n\n  _isBoolean(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n  },\n\n  isObject(val) {\n    return val instanceof Object;\n  },\n\n  isValidSelector(selector) {\n    if (typeof selector !== 'string') {\n      return false;\n    }\n\n    var firstChar = selector[0];\n    return firstChar === '#' || firstChar === '.' || firstChar === firstChar.toUpperCase();\n  },\n\n  _sign(number) {\n    if (number === 0) {\n      return 1;\n    }\n\n    if (number > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  },\n\n  requestAnimFrame(callback) {\n    animQueue.push(callback);\n\n    if (animQueue.length === 1) {\n      req(function () {\n        const queue = animQueue;\n        animQueue = [];\n        queue.forEach(function (cb) {\n          cb();\n        });\n      });\n    }\n  },\n\n  createCanvasElement() {\n    var canvas = document.createElement('canvas');\n\n    try {\n      canvas.style = canvas.style || {};\n    } catch (e) {}\n\n    return canvas;\n  },\n\n  createImageElement() {\n    return document.createElement('img');\n  },\n\n  _isInDocument(el) {\n    while (el = el.parentNode) {\n      if (el == document) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  _urlToImage(url, callback) {\n    var imageObj = Util.createImageElement();\n\n    imageObj.onload = function () {\n      callback(imageObj);\n    };\n\n    imageObj.src = url;\n  },\n\n  _rgbToHex(r, g, b) {\n    return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n  },\n\n  _hexToRgb(hex) {\n    hex = hex.replace(HASH, EMPTY_STRING);\n    var bigint = parseInt(hex, 16);\n    return {\n      r: bigint >> 16 & 255,\n      g: bigint >> 8 & 255,\n      b: bigint & 255\n    };\n  },\n\n  getRandomColor() {\n    var randColor = (Math.random() * 0xffffff << 0).toString(16);\n\n    while (randColor.length < 6) {\n      randColor = ZERO + randColor;\n    }\n\n    return HASH + randColor;\n  },\n\n  getRGB(color) {\n    var rgb;\n\n    if (color in COLORS) {\n      rgb = COLORS[color];\n      return {\n        r: rgb[0],\n        g: rgb[1],\n        b: rgb[2]\n      };\n    } else if (color[0] === HASH) {\n      return this._hexToRgb(color.substring(1));\n    } else if (color.substr(0, 4) === RGB_PAREN) {\n      rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n      return {\n        r: parseInt(rgb[1], 10),\n        g: parseInt(rgb[2], 10),\n        b: parseInt(rgb[3], 10)\n      };\n    } else {\n      return {\n        r: 0,\n        g: 0,\n        b: 0\n      };\n    }\n  },\n\n  colorToRGBA(str) {\n    str = str || 'black';\n    return Util._namedColorToRBA(str) || Util._hex3ColorToRGBA(str) || Util._hex6ColorToRGBA(str) || Util._rgbColorToRGBA(str) || Util._rgbaColorToRGBA(str) || Util._hslColorToRGBA(str);\n  },\n\n  _namedColorToRBA(str) {\n    var c = COLORS[str.toLowerCase()];\n\n    if (!c) {\n      return null;\n    }\n\n    return {\n      r: c[0],\n      g: c[1],\n      b: c[2],\n      a: 1\n    };\n  },\n\n  _rgbColorToRGBA(str) {\n    if (str.indexOf('rgb(') === 0) {\n      str = str.match(/rgb\\(([^)]+)\\)/)[1];\n      var parts = str.split(/ *, */).map(Number);\n      return {\n        r: parts[0],\n        g: parts[1],\n        b: parts[2],\n        a: 1\n      };\n    }\n  },\n\n  _rgbaColorToRGBA(str) {\n    if (str.indexOf('rgba(') === 0) {\n      str = str.match(/rgba\\(([^)]+)\\)/)[1];\n      var parts = str.split(/ *, */).map(Number);\n      return {\n        r: parts[0],\n        g: parts[1],\n        b: parts[2],\n        a: parts[3]\n      };\n    }\n  },\n\n  _hex6ColorToRGBA(str) {\n    if (str[0] === '#' && str.length === 7) {\n      return {\n        r: parseInt(str.slice(1, 3), 16),\n        g: parseInt(str.slice(3, 5), 16),\n        b: parseInt(str.slice(5, 7), 16),\n        a: 1\n      };\n    }\n  },\n\n  _hex3ColorToRGBA(str) {\n    if (str[0] === '#' && str.length === 4) {\n      return {\n        r: parseInt(str[1] + str[1], 16),\n        g: parseInt(str[2] + str[2], 16),\n        b: parseInt(str[3] + str[3], 16),\n        a: 1\n      };\n    }\n  },\n\n  _hslColorToRGBA(str) {\n    if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n      const [_, ...hsl] = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str);\n      const h = Number(hsl[0]) / 360;\n      const s = Number(hsl[1]) / 100;\n      const l = Number(hsl[2]) / 100;\n      let t2;\n      let t3;\n      let val;\n\n      if (s === 0) {\n        val = l * 255;\n        return {\n          r: Math.round(val),\n          g: Math.round(val),\n          b: Math.round(val),\n          a: 1\n        };\n      }\n\n      if (l < 0.5) {\n        t2 = l * (1 + s);\n      } else {\n        t2 = l + s - l * s;\n      }\n\n      const t1 = 2 * l - t2;\n      const rgb = [0, 0, 0];\n\n      for (let i = 0; i < 3; i++) {\n        t3 = h + 1 / 3 * -(i - 1);\n\n        if (t3 < 0) {\n          t3++;\n        }\n\n        if (t3 > 1) {\n          t3--;\n        }\n\n        if (6 * t3 < 1) {\n          val = t1 + (t2 - t1) * 6 * t3;\n        } else if (2 * t3 < 1) {\n          val = t2;\n        } else if (3 * t3 < 2) {\n          val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n        } else {\n          val = t1;\n        }\n\n        rgb[i] = val * 255;\n      }\n\n      return {\n        r: Math.round(rgb[0]),\n        g: Math.round(rgb[1]),\n        b: Math.round(rgb[2]),\n        a: 1\n      };\n    }\n  },\n\n  haveIntersection(r1, r2) {\n    return !(r2.x > r1.x + r1.width || r2.x + r2.width < r1.x || r2.y > r1.y + r1.height || r2.y + r2.height < r1.y);\n  },\n\n  cloneObject(obj) {\n    var retObj = {};\n\n    for (var key in obj) {\n      if (this._isPlainObject(obj[key])) {\n        retObj[key] = this.cloneObject(obj[key]);\n      } else if (this._isArray(obj[key])) {\n        retObj[key] = this.cloneArray(obj[key]);\n      } else {\n        retObj[key] = obj[key];\n      }\n    }\n\n    return retObj;\n  },\n\n  cloneArray(arr) {\n    return arr.slice(0);\n  },\n\n  degToRad(deg) {\n    return deg * PI_OVER_DEG180;\n  },\n\n  radToDeg(rad) {\n    return rad * DEG180_OVER_PI;\n  },\n\n  _degToRad(deg) {\n    Util.warn('Util._degToRad is removed. Please use public Util.degToRad instead.');\n    return Util.degToRad(deg);\n  },\n\n  _radToDeg(rad) {\n    Util.warn('Util._radToDeg is removed. Please use public Util.radToDeg instead.');\n    return Util.radToDeg(rad);\n  },\n\n  _getRotation(radians) {\n    return Konva.angleDeg ? Util.radToDeg(radians) : radians;\n  },\n\n  _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  },\n\n  throw(str) {\n    throw new Error(KONVA_ERROR + str);\n  },\n\n  error(str) {\n    console.error(KONVA_ERROR + str);\n  },\n\n  warn(str) {\n    if (!Konva.showWarnings) {\n      return;\n    }\n\n    console.warn(KONVA_WARNING + str);\n  },\n\n  each(obj, func) {\n    for (var key in obj) {\n      func(key, obj[key]);\n    }\n  },\n\n  _inRange(val, left, right) {\n    return left <= val && val < right;\n  },\n\n  _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n    var x, y, dist;\n    var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n\n    if (pd2 == 0) {\n      x = x1;\n      y = y1;\n      dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n    } else {\n      var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n\n      if (u < 0) {\n        x = x1;\n        y = y1;\n        dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n      } else if (u > 1.0) {\n        x = x2;\n        y = y2;\n        dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n      } else {\n        x = x1 + u * (x2 - x1);\n        y = y1 + u * (y2 - y1);\n        dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n      }\n    }\n\n    return [x, y, dist];\n  },\n\n  _getProjectionToLine(pt, line, isClosed) {\n    var pc = Util.cloneObject(pt);\n    var dist = Number.MAX_VALUE;\n    line.forEach(function (p1, i) {\n      if (!isClosed && i === line.length - 1) {\n        return;\n      }\n\n      var p2 = line[(i + 1) % line.length];\n\n      var proj = Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n\n      var px = proj[0],\n          py = proj[1],\n          pdist = proj[2];\n\n      if (pdist < dist) {\n        pc.x = px;\n        pc.y = py;\n        dist = pdist;\n      }\n    });\n    return pc;\n  },\n\n  _prepareArrayForTween(startArray, endArray, isClosed) {\n    var n,\n        start = [],\n        end = [];\n\n    if (startArray.length > endArray.length) {\n      var temp = endArray;\n      endArray = startArray;\n      startArray = temp;\n    }\n\n    for (n = 0; n < startArray.length; n += 2) {\n      start.push({\n        x: startArray[n],\n        y: startArray[n + 1]\n      });\n    }\n\n    for (n = 0; n < endArray.length; n += 2) {\n      end.push({\n        x: endArray[n],\n        y: endArray[n + 1]\n      });\n    }\n\n    var newStart = [];\n    end.forEach(function (point) {\n      var pr = Util._getProjectionToLine(point, start, isClosed);\n\n      newStart.push(pr.x);\n      newStart.push(pr.y);\n    });\n    return newStart;\n  },\n\n  _prepareToStringify(obj) {\n    var desc;\n    obj.visitedByCircularReferenceRemoval = true;\n\n    for (var key in obj) {\n      if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n        continue;\n      }\n\n      desc = Object.getOwnPropertyDescriptor(obj, key);\n\n      if (obj[key].visitedByCircularReferenceRemoval || Util._isElement(obj[key])) {\n        if (desc.configurable) {\n          delete obj[key];\n        } else {\n          return null;\n        }\n      } else if (Util._prepareToStringify(obj[key]) === null) {\n        if (desc.configurable) {\n          delete obj[key];\n        } else {\n          return null;\n        }\n      }\n    }\n\n    delete obj.visitedByCircularReferenceRemoval;\n    return obj;\n  },\n\n  _assign(target, source) {\n    for (var key in source) {\n      target[key] = source[key];\n    }\n\n    return target;\n  },\n\n  _getFirstPointerId(evt) {\n    if (!evt.touches) {\n      return evt.pointerId || 999;\n    } else {\n      return evt.changedTouches[0].identifier;\n    }\n  }\n\n};","map":{"version":3,"sources":["../src/Util.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { Konva } from './Global.js';\nexport class Transform {\n    constructor(m = [1, 0, 0, 1, 0, 0]) {\n        this.dirty = false;\n        this.m = (m && m.slice()) || [1, 0, 0, 1, 0, 0];\n    }\n    reset() {\n        this.m[0] = 1;\n        this.m[1] = 0;\n        this.m[2] = 0;\n        this.m[3] = 1;\n        this.m[4] = 0;\n        this.m[5] = 0;\n    }\n    copy() {\n        return new Transform(this.m);\n    }\n    copyInto(tr) {\n        tr.m[0] = this.m[0];\n        tr.m[1] = this.m[1];\n        tr.m[2] = this.m[2];\n        tr.m[3] = this.m[3];\n        tr.m[4] = this.m[4];\n        tr.m[5] = this.m[5];\n    }\n    point(point) {\n        var m = this.m;\n        return {\n            x: m[0] * point.x + m[2] * point.y + m[4],\n            y: m[1] * point.x + m[3] * point.y + m[5],\n        };\n    }\n    translate(x, y) {\n        this.m[4] += this.m[0] * x + this.m[2] * y;\n        this.m[5] += this.m[1] * x + this.m[3] * y;\n        return this;\n    }\n    scale(sx, sy) {\n        this.m[0] *= sx;\n        this.m[1] *= sx;\n        this.m[2] *= sy;\n        this.m[3] *= sy;\n        return this;\n    }\n    rotate(rad) {\n        var c = Math.cos(rad);\n        var s = Math.sin(rad);\n        var m11 = this.m[0] * c + this.m[2] * s;\n        var m12 = this.m[1] * c + this.m[3] * s;\n        var m21 = this.m[0] * -s + this.m[2] * c;\n        var m22 = this.m[1] * -s + this.m[3] * c;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    getTranslation() {\n        return {\n            x: this.m[4],\n            y: this.m[5],\n        };\n    }\n    skew(sx, sy) {\n        var m11 = this.m[0] + this.m[2] * sy;\n        var m12 = this.m[1] + this.m[3] * sy;\n        var m21 = this.m[2] + this.m[0] * sx;\n        var m22 = this.m[3] + this.m[1] * sx;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    multiply(matrix) {\n        var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n        var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n        var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n        var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n        var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n        var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        this.m[4] = dx;\n        this.m[5] = dy;\n        return this;\n    }\n    invert() {\n        var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n        var m0 = this.m[3] * d;\n        var m1 = -this.m[1] * d;\n        var m2 = -this.m[2] * d;\n        var m3 = this.m[0] * d;\n        var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n        var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n        this.m[0] = m0;\n        this.m[1] = m1;\n        this.m[2] = m2;\n        this.m[3] = m3;\n        this.m[4] = m4;\n        this.m[5] = m5;\n        return this;\n    }\n    getMatrix() {\n        return this.m;\n    }\n    setAbsolutePosition(x, y) {\n        var m0 = this.m[0], m1 = this.m[1], m2 = this.m[2], m3 = this.m[3], m4 = this.m[4], m5 = this.m[5], yt = (m0 * (y - m5) - m1 * (x - m4)) / (m0 * m3 - m1 * m2), xt = (x - m4 - m2 * yt) / m0;\n        return this.translate(xt, yt);\n    }\n    decompose() {\n        var a = this.m[0];\n        var b = this.m[1];\n        var c = this.m[2];\n        var d = this.m[3];\n        var e = this.m[4];\n        var f = this.m[5];\n        var delta = a * d - b * c;\n        let result = {\n            x: e,\n            y: f,\n            rotation: 0,\n            scaleX: 0,\n            scaleY: 0,\n            skewX: 0,\n            skewY: 0,\n        };\n        if (a != 0 || b != 0) {\n            var r = Math.sqrt(a * a + b * b);\n            result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n            result.scaleX = r;\n            result.scaleY = delta / r;\n            result.skewX = (a * c + b * d) / delta;\n            result.skewY = 0;\n        }\n        else if (c != 0 || d != 0) {\n            var s = Math.sqrt(c * c + d * d);\n            result.rotation =\n                Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n            result.scaleX = delta / s;\n            result.scaleY = s;\n            result.skewX = 0;\n            result.skewY = (a * c + b * d) / delta;\n        }\n        else {\n        }\n        result.rotation = Util._getRotation(result.rotation);\n        return result;\n    }\n}\nvar OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', OBJECT_BOOLEAN = '[object Boolean]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KONVA_WARNING = 'Konva warning: ', KONVA_ERROR = 'Konva error: ', RGB_PAREN = 'rgb(', COLORS = {\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 132, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 255, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    grey: [128, 128, 128],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 203],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    rebeccapurple: [102, 51, 153],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [119, 128, 144],\n    slategrey: [119, 128, 144],\n    snow: [255, 255, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    transparent: [255, 255, 255, 0],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 5],\n}, RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/, animQueue = [];\nconst req = (typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame) ||\n    function (f) {\n        setTimeout(f, 60);\n    };\nexport const Util = {\n    _isElement(obj) {\n        return !!(obj && obj.nodeType == 1);\n    },\n    _isFunction(obj) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    },\n    _isPlainObject(obj) {\n        return !!obj && obj.constructor === Object;\n    },\n    _isArray(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n    },\n    _isNumber(obj) {\n        return (Object.prototype.toString.call(obj) === OBJECT_NUMBER &&\n            !isNaN(obj) &&\n            isFinite(obj));\n    },\n    _isString(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_STRING;\n    },\n    _isBoolean(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n    },\n    isObject(val) {\n        return val instanceof Object;\n    },\n    isValidSelector(selector) {\n        if (typeof selector !== 'string') {\n            return false;\n        }\n        var firstChar = selector[0];\n        return (firstChar === '#' ||\n            firstChar === '.' ||\n            firstChar === firstChar.toUpperCase());\n    },\n    _sign(number) {\n        if (number === 0) {\n            return 1;\n        }\n        if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    },\n    requestAnimFrame(callback) {\n        animQueue.push(callback);\n        if (animQueue.length === 1) {\n            req(function () {\n                const queue = animQueue;\n                animQueue = [];\n                queue.forEach(function (cb) {\n                    cb();\n                });\n            });\n        }\n    },\n    createCanvasElement() {\n        var canvas = document.createElement('canvas');\n        try {\n            canvas.style = canvas.style || {};\n        }\n        catch (e) { }\n        return canvas;\n    },\n    createImageElement() {\n        return document.createElement('img');\n    },\n    _isInDocument(el) {\n        while ((el = el.parentNode)) {\n            if (el == document) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _urlToImage(url, callback) {\n        var imageObj = Util.createImageElement();\n        imageObj.onload = function () {\n            callback(imageObj);\n        };\n        imageObj.src = url;\n    },\n    _rgbToHex(r, g, b) {\n        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    },\n    _hexToRgb(hex) {\n        hex = hex.replace(HASH, EMPTY_STRING);\n        var bigint = parseInt(hex, 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    },\n    getRandomColor() {\n        var randColor = ((Math.random() * 0xffffff) << 0).toString(16);\n        while (randColor.length < 6) {\n            randColor = ZERO + randColor;\n        }\n        return HASH + randColor;\n    },\n    getRGB(color) {\n        var rgb;\n        if (color in COLORS) {\n            rgb = COLORS[color];\n            return {\n                r: rgb[0],\n                g: rgb[1],\n                b: rgb[2],\n            };\n        }\n        else if (color[0] === HASH) {\n            return this._hexToRgb(color.substring(1));\n        }\n        else if (color.substr(0, 4) === RGB_PAREN) {\n            rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n            return {\n                r: parseInt(rgb[1], 10),\n                g: parseInt(rgb[2], 10),\n                b: parseInt(rgb[3], 10),\n            };\n        }\n        else {\n            return {\n                r: 0,\n                g: 0,\n                b: 0,\n            };\n        }\n    },\n    colorToRGBA(str) {\n        str = str || 'black';\n        return (Util._namedColorToRBA(str) ||\n            Util._hex3ColorToRGBA(str) ||\n            Util._hex6ColorToRGBA(str) ||\n            Util._rgbColorToRGBA(str) ||\n            Util._rgbaColorToRGBA(str) ||\n            Util._hslColorToRGBA(str));\n    },\n    _namedColorToRBA(str) {\n        var c = COLORS[str.toLowerCase()];\n        if (!c) {\n            return null;\n        }\n        return {\n            r: c[0],\n            g: c[1],\n            b: c[2],\n            a: 1,\n        };\n    },\n    _rgbColorToRGBA(str) {\n        if (str.indexOf('rgb(') === 0) {\n            str = str.match(/rgb\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: 1,\n            };\n        }\n    },\n    _rgbaColorToRGBA(str) {\n        if (str.indexOf('rgba(') === 0) {\n            str = str.match(/rgba\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: parts[3],\n            };\n        }\n    },\n    _hex6ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 7) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: 1,\n            };\n        }\n    },\n    _hex3ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 4) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: 1,\n            };\n        }\n    },\n    _hslColorToRGBA(str) {\n        if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n            const [_, ...hsl] = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str);\n            const h = Number(hsl[0]) / 360;\n            const s = Number(hsl[1]) / 100;\n            const l = Number(hsl[2]) / 100;\n            let t2;\n            let t3;\n            let val;\n            if (s === 0) {\n                val = l * 255;\n                return {\n                    r: Math.round(val),\n                    g: Math.round(val),\n                    b: Math.round(val),\n                    a: 1,\n                };\n            }\n            if (l < 0.5) {\n                t2 = l * (1 + s);\n            }\n            else {\n                t2 = l + s - l * s;\n            }\n            const t1 = 2 * l - t2;\n            const rgb = [0, 0, 0];\n            for (let i = 0; i < 3; i++) {\n                t3 = h + (1 / 3) * -(i - 1);\n                if (t3 < 0) {\n                    t3++;\n                }\n                if (t3 > 1) {\n                    t3--;\n                }\n                if (6 * t3 < 1) {\n                    val = t1 + (t2 - t1) * 6 * t3;\n                }\n                else if (2 * t3 < 1) {\n                    val = t2;\n                }\n                else if (3 * t3 < 2) {\n                    val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n                }\n                else {\n                    val = t1;\n                }\n                rgb[i] = val * 255;\n            }\n            return {\n                r: Math.round(rgb[0]),\n                g: Math.round(rgb[1]),\n                b: Math.round(rgb[2]),\n                a: 1,\n            };\n        }\n    },\n    haveIntersection(r1, r2) {\n        return !(r2.x > r1.x + r1.width ||\n            r2.x + r2.width < r1.x ||\n            r2.y > r1.y + r1.height ||\n            r2.y + r2.height < r1.y);\n    },\n    cloneObject(obj) {\n        var retObj = {};\n        for (var key in obj) {\n            if (this._isPlainObject(obj[key])) {\n                retObj[key] = this.cloneObject(obj[key]);\n            }\n            else if (this._isArray(obj[key])) {\n                retObj[key] = this.cloneArray(obj[key]);\n            }\n            else {\n                retObj[key] = obj[key];\n            }\n        }\n        return retObj;\n    },\n    cloneArray(arr) {\n        return arr.slice(0);\n    },\n    degToRad(deg) {\n        return deg * PI_OVER_DEG180;\n    },\n    radToDeg(rad) {\n        return rad * DEG180_OVER_PI;\n    },\n    _degToRad(deg) {\n        Util.warn('Util._degToRad is removed. Please use public Util.degToRad instead.');\n        return Util.degToRad(deg);\n    },\n    _radToDeg(rad) {\n        Util.warn('Util._radToDeg is removed. Please use public Util.radToDeg instead.');\n        return Util.radToDeg(rad);\n    },\n    _getRotation(radians) {\n        return Konva.angleDeg ? Util.radToDeg(radians) : radians;\n    },\n    _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    throw(str) {\n        throw new Error(KONVA_ERROR + str);\n    },\n    error(str) {\n        console.error(KONVA_ERROR + str);\n    },\n    warn(str) {\n        if (!Konva.showWarnings) {\n            return;\n        }\n        console.warn(KONVA_WARNING + str);\n    },\n    each(obj, func) {\n        for (var key in obj) {\n            func(key, obj[key]);\n        }\n    },\n    _inRange(val, left, right) {\n        return left <= val && val < right;\n    },\n    _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n        var x, y, dist;\n        var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n        if (pd2 == 0) {\n            x = x1;\n            y = y1;\n            dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n        }\n        else {\n            var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n            if (u < 0) {\n                x = x1;\n                y = y1;\n                dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n            }\n            else if (u > 1.0) {\n                x = x2;\n                y = y2;\n                dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n            }\n            else {\n                x = x1 + u * (x2 - x1);\n                y = y1 + u * (y2 - y1);\n                dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n            }\n        }\n        return [x, y, dist];\n    },\n    _getProjectionToLine(pt, line, isClosed) {\n        var pc = Util.cloneObject(pt);\n        var dist = Number.MAX_VALUE;\n        line.forEach(function (p1, i) {\n            if (!isClosed && i === line.length - 1) {\n                return;\n            }\n            var p2 = line[(i + 1) % line.length];\n            var proj = Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n            var px = proj[0], py = proj[1], pdist = proj[2];\n            if (pdist < dist) {\n                pc.x = px;\n                pc.y = py;\n                dist = pdist;\n            }\n        });\n        return pc;\n    },\n    _prepareArrayForTween(startArray, endArray, isClosed) {\n        var n, start = [], end = [];\n        if (startArray.length > endArray.length) {\n            var temp = endArray;\n            endArray = startArray;\n            startArray = temp;\n        }\n        for (n = 0; n < startArray.length; n += 2) {\n            start.push({\n                x: startArray[n],\n                y: startArray[n + 1],\n            });\n        }\n        for (n = 0; n < endArray.length; n += 2) {\n            end.push({\n                x: endArray[n],\n                y: endArray[n + 1],\n            });\n        }\n        var newStart = [];\n        end.forEach(function (point) {\n            var pr = Util._getProjectionToLine(point, start, isClosed);\n            newStart.push(pr.x);\n            newStart.push(pr.y);\n        });\n        return newStart;\n    },\n    _prepareToStringify(obj) {\n        var desc;\n        obj.visitedByCircularReferenceRemoval = true;\n        for (var key in obj) {\n            if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n                continue;\n            }\n            desc = Object.getOwnPropertyDescriptor(obj, key);\n            if (obj[key].visitedByCircularReferenceRemoval ||\n                Util._isElement(obj[key])) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n            else if (Util._prepareToStringify(obj[key]) === null) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        delete obj.visitedByCircularReferenceRemoval;\n        return obj;\n    },\n    _assign(target, source) {\n        for (var key in source) {\n            target[key] = source[key];\n        }\n        return target;\n    },\n    _getFirstPointerId(evt) {\n        if (!evt.touches) {\n            return evt.pointerId || 999;\n        }\n        else {\n            return evt.changedTouches[0].identifier;\n        }\n    },\n};\n//# sourceMappingURL=Util.js.map"]},"metadata":{},"sourceType":"module"}