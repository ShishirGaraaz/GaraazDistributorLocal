{"ast":null,"code":"import produce from 'immer';\nimport { ATTEMPT_LOGIN, ATTEMPT_LOGOUT, SET_AUTH_USER } from './constants';\nexport const initialState = {\n  authToken: '',\n  validProfile: false,\n  user: null\n};\n/* eslint-disable default-case, no-param-reassign */\n\nconst authReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, draft => {\n    switch (action.type) {\n      case ATTEMPT_LOGIN:\n        draft.authToken = action.payload.auth;\n        draft.validProfile = action.payload.isValidProfile;\n\n        if (action.payload.user) {\n          draft.user = action.payload.user;\n        }\n\n        break;\n\n      case SET_AUTH_USER:\n        draft.user = { ...draft.user,\n          firstName: action.payload.firstName,\n          lastName: action.payload.lastName,\n          role: action.payload.role\n        };\n        draft.validProfile = true;\n        break;\n\n      case ATTEMPT_LOGOUT:\n        draft.authToken = '';\n        draft.validProfile = false;\n        draft.user = null;\n        break;\n    }\n  });\n};\n\nexport default authReducer;","map":{"version":3,"sources":["C:/Users/Acer/Desktop/Work/garaaz-distributor/src/containers/LoginPage/reducer.js"],"names":["produce","ATTEMPT_LOGIN","ATTEMPT_LOGOUT","SET_AUTH_USER","initialState","authToken","validProfile","user","authReducer","state","action","draft","type","payload","auth","isValidProfile","firstName","lastName","role"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,OAApB;AAEA,SAASC,aAAT,EAAwBC,cAAxB,EAAwCC,aAAxC,QAA6D,aAA7D;AAEA,OAAO,MAAMC,YAAY,GAAG;AAC1BC,EAAAA,SAAS,EAAE,EADe;AAE1BC,EAAAA,YAAY,EAAE,KAFY;AAG1BC,EAAAA,IAAI,EAAE;AAHoB,CAArB;AAMP;;AACA,MAAMC,WAAW,GAAG;AAAA,MAACC,KAAD,uEAASL,YAAT;AAAA,MAAuBM,MAAvB;AAAA,SAClBV,OAAO,CAACS,KAAD,EAAQE,KAAK,IAAI;AACtB,YAAQD,MAAM,CAACE,IAAf;AACE,WAAKX,aAAL;AACEU,QAAAA,KAAK,CAACN,SAAN,GAAkBK,MAAM,CAACG,OAAP,CAAeC,IAAjC;AACAH,QAAAA,KAAK,CAACL,YAAN,GAAqBI,MAAM,CAACG,OAAP,CAAeE,cAApC;;AAEA,YAAIL,MAAM,CAACG,OAAP,CAAeN,IAAnB,EAAyB;AACvBI,UAAAA,KAAK,CAACJ,IAAN,GAAaG,MAAM,CAACG,OAAP,CAAeN,IAA5B;AACD;;AACD;;AACF,WAAKJ,aAAL;AACEQ,QAAAA,KAAK,CAACJ,IAAN,GAAa,EACX,GAAGI,KAAK,CAACJ,IADE;AAEXS,UAAAA,SAAS,EAAEN,MAAM,CAACG,OAAP,CAAeG,SAFf;AAGXC,UAAAA,QAAQ,EAAEP,MAAM,CAACG,OAAP,CAAeI,QAHd;AAIXC,UAAAA,IAAI,EAAER,MAAM,CAACG,OAAP,CAAeK;AAJV,SAAb;AAMAP,QAAAA,KAAK,CAACL,YAAN,GAAqB,IAArB;AACA;;AACF,WAAKJ,cAAL;AACES,QAAAA,KAAK,CAACN,SAAN,GAAkB,EAAlB;AACAM,QAAAA,KAAK,CAACL,YAAN,GAAqB,KAArB;AACAK,QAAAA,KAAK,CAACJ,IAAN,GAAa,IAAb;AACA;AAtBJ;AAwBD,GAzBM,CADW;AAAA,CAApB;;AA4BA,eAAeC,WAAf","sourcesContent":["import produce from 'immer';\r\n\r\nimport { ATTEMPT_LOGIN, ATTEMPT_LOGOUT, SET_AUTH_USER } from './constants';\r\n\r\nexport const initialState = {\r\n  authToken: '',\r\n  validProfile: false,\r\n  user: null,\r\n};\r\n\r\n/* eslint-disable default-case, no-param-reassign */\r\nconst authReducer = (state = initialState, action) =>\r\n  produce(state, draft => {\r\n    switch (action.type) {\r\n      case ATTEMPT_LOGIN:\r\n        draft.authToken = action.payload.auth;\r\n        draft.validProfile = action.payload.isValidProfile;\r\n\r\n        if (action.payload.user) {\r\n          draft.user = action.payload.user;\r\n        }\r\n        break;\r\n      case SET_AUTH_USER:\r\n        draft.user = {\r\n          ...draft.user,\r\n          firstName: action.payload.firstName,\r\n          lastName: action.payload.lastName,\r\n          role: action.payload.role,\r\n        };\r\n        draft.validProfile = true;\r\n        break;\r\n      case ATTEMPT_LOGOUT:\r\n        draft.authToken = '';\r\n        draft.validProfile = false;\r\n        draft.user = null;\r\n        break;\r\n    }\r\n  });\r\n\r\nexport default authReducer;\r\n"]},"metadata":{},"sourceType":"module"}