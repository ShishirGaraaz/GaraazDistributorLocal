{"ast":null,"code":"import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport const RGB = function (imageData) {\n  var data = imageData.data,\n      nPixels = data.length,\n      red = this.red(),\n      green = this.green(),\n      blue = this.blue(),\n      i,\n      brightness;\n\n  for (i = 0; i < nPixels; i += 4) {\n    brightness = (0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2]) / 255;\n    data[i] = brightness * red;\n    data[i + 1] = brightness * green;\n    data[i + 2] = brightness * blue;\n    data[i + 3] = data[i + 3];\n  }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return Math.round(val);\n  }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return Math.round(val);\n  }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);","map":{"version":3,"sources":["../../src/filters/RGB.ts"],"names":[],"mappings":"AAAA,SAAS,OAAT,QAAwB,eAAxB;AACA,SAAS,IAAT,QAA6B,YAA7B;AACA,SAAS,YAAT,QAA6B,kBAA7B;AAgBA,OAAO,MAAM,GAAG,GAAW,UAAU,SAAV,EAAmB;AAC5C,MAAI,IAAI,GAAG,SAAS,CAAC,IAArB;AAAA,MACE,OAAO,GAAG,IAAI,CAAC,MADjB;AAAA,MAEE,GAAG,GAAG,KAAK,GAAL,EAFR;AAAA,MAGE,KAAK,GAAG,KAAK,KAAL,EAHV;AAAA,MAIE,IAAI,GAAG,KAAK,IAAL,EAJT;AAAA,MAKE,CALF;AAAA,MAME,UANF;;AAQA,OAAK,CAAC,GAAG,CAAT,EAAY,CAAC,GAAG,OAAhB,EAAyB,CAAC,IAAI,CAA9B,EAAiC;AAC/B,IAAA,UAAU,GACR,CAAC,OAAO,IAAI,CAAC,CAAD,CAAX,GAAiB,MAAM,IAAI,CAAC,CAAC,GAAG,CAAL,CAA3B,GAAqC,OAAO,IAAI,CAAC,CAAC,GAAG,CAAL,CAAjD,IAA4D,GAD9D;AAEA,IAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,UAAU,GAAG,GAAvB;AACA,IAAA,IAAI,CAAC,CAAC,GAAG,CAAL,CAAJ,GAAc,UAAU,GAAG,KAA3B;AACA,IAAA,IAAI,CAAC,CAAC,GAAG,CAAL,CAAJ,GAAc,UAAU,GAAG,IAA3B;AACA,IAAA,IAAI,CAAC,CAAC,GAAG,CAAL,CAAJ,GAAc,IAAI,CAAC,CAAC,GAAG,CAAL,CAAlB;AACD;AACF,CAjBM;AAmBP,OAAO,CAAC,eAAR,CAAwB,IAAxB,EAA8B,KAA9B,EAAqC,CAArC,EAAwC,UAAU,GAAV,EAAa;AACnD,OAAK,eAAL,GAAuB,KAAvB;;AACA,MAAI,GAAG,GAAG,GAAV,EAAe;AACb,WAAO,GAAP;AACD,GAFD,MAEO,IAAI,GAAG,GAAG,CAAV,EAAa;AAClB,WAAO,CAAP;AACD,GAFM,MAEA;AACL,WAAO,IAAI,CAAC,KAAL,CAAW,GAAX,CAAP;AACD;AACF,CATD;AAmBA,OAAO,CAAC,eAAR,CAAwB,IAAxB,EAA8B,OAA9B,EAAuC,CAAvC,EAA0C,UAAU,GAAV,EAAa;AACrD,OAAK,eAAL,GAAuB,KAAvB;;AACA,MAAI,GAAG,GAAG,GAAV,EAAe;AACb,WAAO,GAAP;AACD,GAFD,MAEO,IAAI,GAAG,GAAG,CAAV,EAAa;AAClB,WAAO,CAAP;AACD,GAFM,MAEA;AACL,WAAO,IAAI,CAAC,KAAL,CAAW,GAAX,CAAP;AACD;AACF,CATD;AAmBA,OAAO,CAAC,eAAR,CAAwB,IAAxB,EAA8B,MAA9B,EAAsC,CAAtC,EAAyC,YAAzC,EAAuD,OAAO,CAAC,cAA/D","sourceRoot":"","sourcesContent":["import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport const RGB = function (imageData) {\n    var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), i, brightness;\n    for (i = 0; i < nPixels; i += 4) {\n        brightness =\n            (0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2]) / 255;\n        data[i] = brightness * red;\n        data[i + 1] = brightness * green;\n        data[i + 2] = brightness * blue;\n        data[i + 3] = data[i + 3];\n    }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);\n//# sourceMappingURL=RGB.js.map"]},"metadata":{},"sourceType":"module"}