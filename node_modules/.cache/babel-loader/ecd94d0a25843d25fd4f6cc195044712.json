{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Desktop\\\\Work\\\\garaaz-distributor\\\\src\\\\App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\n// Needed for redux-saga es6 generator support\nimport React, { useEffect, useContext, createContext } from 'react';\nimport store from './configureStore';\nimport { useIntl } from 'react-intl';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Switch, Route, useHistory, useLocation } from 'react-router-dom';\nimport { Toaster } from 'react-hot-toast';\nimport { Spinner } from '@chakra-ui/react';\nimport './assets/tailwind.min.css';\nimport './assets/index.css';\nimport './assets/docs.css';\nimport Layout from './containers/Layout';\nimport messages from './messages';\nimport routes from './routes';\nimport { getBranches, getDistributorInfo, selectGlobalState, getWorkshops, setIsDistributor } from './globalSlice';\nimport LoginPage from './containers/LoginPage/Loadable';\nimport Dashboard from './containers/Dashboard/Loadable';\nimport DistributerInfo from './containers/DistributerInfo/Loadable';\nimport BranchInfo from './containers/BranchInfo/Loadable';\nimport BranchDashboard from './containers/BranchDashboard/Loadable';\nimport EmployeeDashboard from './containers/EmployeeDashboard/Loadable';\nimport EmployeeAddition from './containers/EmployeeAddition/Loadable';\nimport Parts from './containers/Parts/Loadable';\nimport PartAddition from './containers/PartAddition/Loadable';\nimport PartInfo from './components/PartInfo/Loadable';\nimport PartBulk from './components/PartBulk/Loadable';\nimport Workshop from './containers/WorkShop/Loadable';\nimport WorkshopAddition from './components/WorkShopAddition/Loadable';\nimport Inventory from './containers/Inventory/Loadable';\nimport StockTransfer from './containers/StockTransfer/Loadable';\nimport Invite from './components/InviteResponse';\nimport NotFoundPage from './containers/NotFoundPage/Loadable'; // Import i18n messages\n\nimport { setupAuthAxios, setupPublicAxios } from './axios';\nimport { attemptLogin } from './containers/LoginPage/actions';\nimport OrderList from './containers/OrderList/Loadable';\nimport 'sanitize.css/sanitize.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport { ROUTES } from './routes';\nimport WorkShopBulk from './components/WorkShopBulk/Loadable';\nimport BranchBulk from './components/BranchBulk/Loadable';\nimport EmployeeBulk from './components/EmployeeAddition/EmployeeBulk';\nimport Accounts from './containers/Accounting/Loadable'; //import AccountBulk from './components/AccountBulk/Loadable'\n\nimport OutstandingAccount from './containers/OutstandingAccount/Loadable';\nimport Collections from './containers/CollectionsAccount/Loadable';\nimport Sales from './containers/Sales/Loadable';\nimport PlaceOrder from './containers/PlaceOrder/Loadable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const TitleContext = /*#__PURE__*/createContext({});\nexport const OnboardContext = /*#__PURE__*/createContext({});\nexport const UseTitleContext = () => {\n  _s();\n\n  return useContext(TitleContext);\n};\n\n_s(UseTitleContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\n_c = UseTitleContext;\nexport const UseOnboardContext = () => {\n  _s2();\n\n  return useContext(OnboardContext);\n}; // axios setup\n\n_s2(UseOnboardContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\n_c2 = UseOnboardContext;\nsetupPublicAxios(process.env.REACT_APP_BASE_URL);\nconst authJSON = JSON.parse(localStorage.getItem('auth'));\n\nif (authJSON) {\n  store.dispatch(attemptLogin(authJSON));\n  setupAuthAxios(process.env.REACT_APP_BASE_URL, authJSON.authToken);\n}\n\nconst App = () => {\n  _s3();\n\n  const [onboard, setOnboard] = React.useState('');\n  const auth = useSelector(state => state.auth);\n  const hist = useHistory();\n  const showSpinner = useSelector(state => state.app.showSpinner);\n  const dispatcher = useDispatch();\n  useEffect(() => {\n    if (localStorage.isDistributor) {\n      dispatcher(setIsDistributor(JSON.parse(localStorage.isDistributor)));\n    }\n  }, []);\n  useEffect(() => {\n    if (localStorage.onboard) {\n      setOnboard(parseInt(JSON.parse(localStorage.onboard)));\n    }\n\n    if (localStorage.isDistributor) {\n      setIsDistributor(JSON.parse(localStorage.isDistributor));\n    }\n  }, []);\n  useEffect(() => {\n    const {\n      pathname\n    } = hist.location;\n\n    if (auth.authToken && (pathname === '/login' || pathname === '/' || pathname === '/register' || pathname === '/invite')) {\n      hist.push(ROUTES.DASHBOARD);\n    }\n\n    if (!auth.authToken && !pathname.startsWith('/invite')) {\n      hist.push('/login');\n    }\n  }, [auth]);\n\n  const updateOnboard = onboard => {\n    setOnboard(onboard);\n  };\n\n  return /*#__PURE__*/_jsxDEV(OnboardContext.Provider, {\n    value: {\n      updateOnboard,\n      onboard\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '100vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: auth.authToken ? /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 31\n          }, this) : /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/invite\",\n          children: /*#__PURE__*/_jsxDEV(Invite, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), auth.authToken && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(ProtectedComponents, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Toaster, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), showSpinner && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(App, \"2RwQNtva+zFYwafQrNa6xaa4Unk=\", false, function () {\n  return [useSelector, useHistory, useSelector, useDispatch];\n});\n\n_c3 = App;\n\nconst ProtectedComponents = props => {\n  _s4();\n\n  const intl = useIntl();\n  const [currentTitle, setTitle] = React.useState();\n  const location = useLocation();\n  const auth = useSelector(state => state.auth);\n  const {\n    distributor\n  } = useSelector(selectGlobalState);\n  const dispatcher = useDispatch();\n  useEffect(() => {\n    (() => {\n      dispatcher(getBranches({\n        auth\n      }));\n      dispatcher(getDistributorInfo({\n        auth\n      }));\n    })();\n  }, [auth]);\n  useEffect(() => {\n    if (Object.entries(distributor).some(_ref => {\n      let [key, value] = _ref;\n      return value;\n    })) {\n      dispatcher(getWorkshops({\n        auth,\n        distributorId: distributor._id\n      }));\n    }\n  }, [distributor]);\n  useEffect(() => {\n    switch (location.pathname) {\n      case ROUTES.DASHBOARD:\n        setTitle(intl.formatMessage(messages.dashboard));\n        break;\n\n      case ROUTES.ONBOARDING:\n      case ROUTES.DISTRIBUTOR:\n        setTitle(intl.formatMessage(messages.distributor));\n        break;\n\n      case ROUTES.BRANCHES:\n      case ROUTES.BRANCH_ADD:\n      case ROUTES.BRANCH_ADD_BULK:\n      case ROUTES.BRANCH_EDIT:\n        setTitle(intl.formatMessage(messages.branch));\n        break;\n\n      case ROUTES.EMPLOYEES:\n      case ROUTES.EMPLOYEE_ADD:\n      case ROUTES.EMPLOYEE_ADD_BULK:\n        setTitle(intl.formatMessage(messages.employee));\n        break;\n\n      case ROUTES.PARTS:\n        setTitle(intl.formatMessage(messages.part));\n        break;\n\n      case ROUTES.PARTS_ADD:\n      case ROUTES.PART_ADD_BULK:\n      case ROUTES.PART_EDIT:\n        setTitle(intl.formatMessage(messages.partAddition));\n        break;\n\n      case ROUTES.PART_INFO:\n        setTitle(intl.formatMessage(messages.partInfo));\n        break;\n\n      case ROUTES.WORKSHOPS:\n      case ROUTES.WORKSHOP_ADD:\n      case ROUTES.WORKSHOP_ADD_Bulk:\n      case ROUTES.WORKSHOP_EDIT:\n        setTitle(intl.formatMessage(messages.workshop));\n        break;\n\n      case routes.orderRoute:\n        setTitle(intl.formatMessage(messages.orderList));\n        break;\n\n      default:\n        const routeName = location.pathname.split('/')[location.pathname.split('/').length - 1].split('-').join(' ');\n        setTitle(routeName);\n        return;\n    }\n  }, [location.pathname]);\n\n  const updateTitle = title => {\n    setTitle(title);\n  };\n\n  return /*#__PURE__*/_jsxDEV(TitleContext.Provider, {\n    value: {\n      currentTitle,\n      updateTitle\n    },\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      title: currentTitle,\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.DASHBOARD,\n          component: Dashboard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.ONBOARDING,\n          component: DistributerInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.DISTRIBUTOR,\n          component: DistributerInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.BRANCHES,\n          component: BranchDashboard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.BRANCH_ADD,\n          component: BranchInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.BRANCH_ADD_BULK,\n          component: BranchBulk\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.BRANCH_EDIT,\n          component: BranchInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.EMPLOYEES,\n          component: EmployeeDashboard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.EMPLOYEE_ADD,\n          component: EmployeeAddition\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.EMPLOYEE_ADD_BULK,\n          component: EmployeeBulk\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.PARTS,\n          component: Parts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.PARTS_ADD,\n          component: PartAddition\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.PART_ADD_BULK,\n          component: PartBulk\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.PART_INFO,\n          component: PartInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.PART_EDIT,\n          component: PartAddition\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.WORKSHOPS,\n          component: Workshop\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.WORKSHOP_ADD,\n          component: WorkshopAddition\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.WORKSHOP_ADD_Bulk,\n          component: WorkShopBulk\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: ROUTES.WORKSHOP_EDIT,\n          component: WorkshopAddition\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: routes.orderRoute,\n          component: OrderList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: routes.accountRoute,\n          children: /*#__PURE__*/_jsxDEV(Accounts, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: routes.outstandingRoute,\n          component: OutstandingAccount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: routes.collectionsRoute,\n          component: Collections\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: routes.inventoryRoute,\n          component: Inventory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: routes.stockTransferRoute,\n          component: StockTransfer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: routes.salesRoute,\n          component: Sales\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: routes.placeOrderRoute,\n          component: PlaceOrder\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n};\n\n_s4(ProtectedComponents, \"+Qd4qByiN8HNNQgfvNjoQIaI48k=\", false, function () {\n  return [useIntl, useLocation, useSelector, useSelector, useDispatch];\n});\n\n_c4 = ProtectedComponents;\nexport default App;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"UseTitleContext\");\n$RefreshReg$(_c2, \"UseOnboardContext\");\n$RefreshReg$(_c3, \"App\");\n$RefreshReg$(_c4, \"ProtectedComponents\");","map":{"version":3,"sources":["C:/Users/Acer/Desktop/Work/garaaz-distributor/src/App.js"],"names":["React","useEffect","useContext","createContext","store","useIntl","useSelector","useDispatch","Switch","Route","useHistory","useLocation","Toaster","Spinner","Layout","messages","routes","getBranches","getDistributorInfo","selectGlobalState","getWorkshops","setIsDistributor","LoginPage","Dashboard","DistributerInfo","BranchInfo","BranchDashboard","EmployeeDashboard","EmployeeAddition","Parts","PartAddition","PartInfo","PartBulk","Workshop","WorkshopAddition","Inventory","StockTransfer","Invite","NotFoundPage","setupAuthAxios","setupPublicAxios","attemptLogin","OrderList","ROUTES","WorkShopBulk","BranchBulk","EmployeeBulk","Accounts","OutstandingAccount","Collections","Sales","PlaceOrder","TitleContext","OnboardContext","UseTitleContext","UseOnboardContext","process","env","REACT_APP_BASE_URL","authJSON","JSON","parse","localStorage","getItem","dispatch","authToken","App","onboard","setOnboard","useState","auth","state","hist","showSpinner","app","dispatcher","isDistributor","parseInt","pathname","location","push","DASHBOARD","startsWith","updateOnboard","height","ProtectedComponents","props","intl","currentTitle","setTitle","distributor","Object","entries","some","key","value","distributorId","_id","formatMessage","dashboard","ONBOARDING","DISTRIBUTOR","BRANCHES","BRANCH_ADD","BRANCH_ADD_BULK","BRANCH_EDIT","branch","EMPLOYEES","EMPLOYEE_ADD","EMPLOYEE_ADD_BULK","employee","PARTS","part","PARTS_ADD","PART_ADD_BULK","PART_EDIT","partAddition","PART_INFO","partInfo","WORKSHOPS","WORKSHOP_ADD","WORKSHOP_ADD_Bulk","WORKSHOP_EDIT","workshop","orderRoute","orderList","routeName","split","length","join","updateTitle","title","accountRoute","outstandingRoute","collectionsRoute","inventoryRoute","stockTransferRoute","salesRoute","placeOrderRoute"],"mappings":"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","sourcesContent":["// Needed for redux-saga es6 generator support\r\nimport React, { useEffect, useContext, createContext } from 'react';\r\nimport store from './configureStore';\r\nimport { useIntl } from 'react-intl';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Switch, Route, useHistory, useLocation } from 'react-router-dom';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport { Spinner } from '@chakra-ui/react';\r\nimport './assets/tailwind.min.css';\r\nimport './assets/index.css';\r\nimport './assets/docs.css';\r\nimport Layout from './containers/Layout';\r\nimport messages from './messages';\r\nimport routes from './routes';\r\nimport { getBranches, getDistributorInfo, selectGlobalState, getWorkshops, setIsDistributor } from './globalSlice';\r\n\r\n\r\n\r\nimport LoginPage from './containers/LoginPage/Loadable';\r\nimport Dashboard from './containers/Dashboard/Loadable';\r\nimport DistributerInfo from './containers/DistributerInfo/Loadable';\r\nimport BranchInfo from './containers/BranchInfo/Loadable';\r\nimport BranchDashboard from './containers/BranchDashboard/Loadable';\r\n\r\nimport EmployeeDashboard from './containers/EmployeeDashboard/Loadable';\r\nimport EmployeeAddition from './containers/EmployeeAddition/Loadable';\r\n\r\nimport Parts from './containers/Parts/Loadable';\r\nimport PartAddition from './containers/PartAddition/Loadable';\r\nimport PartInfo from './components/PartInfo/Loadable';\r\nimport PartBulk from './components/PartBulk/Loadable';\r\n\r\nimport Workshop from './containers/WorkShop/Loadable';\r\nimport WorkshopAddition from './components/WorkShopAddition/Loadable';\r\n\r\nimport Inventory from './containers/Inventory/Loadable';\r\nimport StockTransfer from './containers/StockTransfer/Loadable';\r\n\r\nimport Invite from './components/InviteResponse';\r\n\r\nimport NotFoundPage from './containers/NotFoundPage/Loadable';\r\n\r\n\r\n// Import i18n messages\r\nimport { setupAuthAxios, setupPublicAxios } from './axios';\r\nimport { attemptLogin } from './containers/LoginPage/actions';\r\n\r\nimport OrderList from './containers/OrderList/Loadable';\r\n\r\nimport 'sanitize.css/sanitize.css';\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\nimport { ROUTES } from './routes';\r\nimport WorkShopBulk from './components/WorkShopBulk/Loadable';\r\nimport BranchBulk from './components/BranchBulk/Loadable';\r\nimport EmployeeBulk from './components/EmployeeAddition/EmployeeBulk';\r\n\r\nimport Accounts from './containers/Accounting/Loadable';\r\n//import AccountBulk from './components/AccountBulk/Loadable'\r\nimport OutstandingAccount from './containers/OutstandingAccount/Loadable';\r\nimport Collections from './containers/CollectionsAccount/Loadable';\r\n\r\nimport Sales from './containers/Sales/Loadable';\r\nimport PlaceOrder from './containers/PlaceOrder/Loadable';\r\n\r\n\r\n\r\n\r\nexport const TitleContext = createContext({});\r\nexport const OnboardContext = createContext({});\r\nexport const UseTitleContext = () => useContext(TitleContext);\r\nexport const UseOnboardContext = () => useContext(OnboardContext);\r\n\r\n// axios setup\r\nsetupPublicAxios(process.env.REACT_APP_BASE_URL);\r\nconst authJSON = JSON.parse(localStorage.getItem('auth'));\r\nif (authJSON) {\r\n  store.dispatch(attemptLogin(authJSON));\r\n  setupAuthAxios(process.env.REACT_APP_BASE_URL, authJSON.authToken);\r\n}\r\n\r\n\r\nconst App = () => {\r\n  const [onboard, setOnboard] = React.useState('');\r\n  const auth = useSelector((state) => state.auth);\r\n  const hist = useHistory();\r\n  const showSpinner = useSelector((state) => state.app.showSpinner);\r\n  const dispatcher = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if(localStorage.isDistributor){\r\n      dispatcher(setIsDistributor(JSON.parse(localStorage.isDistributor)))\r\n    }\r\n \r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (localStorage.onboard) {\r\n      setOnboard(parseInt(JSON.parse(localStorage.onboard)));\r\n    }\r\n    if(localStorage.isDistributor){\r\n      setIsDistributor(JSON.parse(localStorage.isDistributor))\r\n    }\r\n\r\n  }, []);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const { pathname } = hist.location;\r\n    if (\r\n      auth.authToken &&\r\n      (pathname === '/login' ||\r\n        pathname === '/' ||\r\n        pathname === '/register' ||\r\n        pathname === '/invite')\r\n    ) {\r\n      hist.push(ROUTES.DASHBOARD);\r\n    }\r\n    if (!auth.authToken && !pathname.startsWith('/invite')) {\r\n      hist.push('/login');\r\n    }\r\n  }, [auth]);\r\n\r\n  const updateOnboard = (onboard) => {\r\n    setOnboard(onboard);\r\n  };\r\n\r\n  return (\r\n    <OnboardContext.Provider value={{ updateOnboard, onboard }}>\r\n      <div style={{ height: '100vh' }}>\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path='/'\r\n          >\r\n            {auth.authToken ? <Dashboard /> : <LoginPage />}\r\n          </Route>\r\n          <Route exact path='/login'>\r\n            <LoginPage />\r\n          </Route>\r\n          {/* <Route exact path=\"/register\" component={RegisterPage} /> */}\r\n          {/* <Route exact path=\"/invite\" component={Invite} /> */}\r\n          <Route path='/invite'>\r\n            <Invite />\r\n          </Route>\r\n\r\n          {auth.authToken && (\r\n            <>\r\n              <ProtectedComponents />\r\n            </>\r\n          )}\r\n          {/* <Route component={NotFoundPage} /> */}\r\n        </Switch>\r\n        <Toaster />\r\n        {showSpinner && <Spinner />}\r\n      </div>\r\n    </OnboardContext.Provider>\r\n  );\r\n};\r\n\r\nconst ProtectedComponents = (props) => {\r\n  const intl = useIntl();\r\n  const [currentTitle, setTitle] = React.useState();\r\n  const location = useLocation();\r\n  const auth = useSelector((state) => state.auth);\r\n  const { distributor } = useSelector(selectGlobalState)\r\n  const dispatcher = useDispatch();\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    (() => {\r\n      dispatcher(getBranches({auth}))\r\n      dispatcher(getDistributorInfo({auth}))\r\n    })()\r\n  },[auth])\r\n\r\n  useEffect(() => {\r\n\r\n    if(Object.entries(distributor).some(([key, value]) => value)){\r\n\r\n      dispatcher(getWorkshops({auth, distributorId: distributor._id}))\r\n    }\r\n  }, [distributor])\r\n\r\n  useEffect(() => {\r\n    switch (location.pathname) {\r\n      case ROUTES.DASHBOARD:\r\n        setTitle(intl.formatMessage(messages.dashboard));\r\n        break;\r\n      case ROUTES.ONBOARDING:\r\n      case ROUTES.DISTRIBUTOR:\r\n        setTitle(intl.formatMessage(messages.distributor));\r\n        break;\r\n      case ROUTES.BRANCHES:\r\n      case ROUTES.BRANCH_ADD:\r\n      case ROUTES.BRANCH_ADD_BULK:\r\n      case ROUTES.BRANCH_EDIT:\r\n        setTitle(intl.formatMessage(messages.branch));\r\n        break;\r\n      case ROUTES.EMPLOYEES:\r\n      case ROUTES.EMPLOYEE_ADD:\r\n      case ROUTES.EMPLOYEE_ADD_BULK:\r\n        setTitle(intl.formatMessage(messages.employee));\r\n        break;\r\n      case ROUTES.PARTS:\r\n        setTitle(intl.formatMessage(messages.part));\r\n        break;\r\n      case ROUTES.PARTS_ADD:\r\n      case ROUTES.PART_ADD_BULK:\r\n      case ROUTES.PART_EDIT:\r\n        setTitle(intl.formatMessage(messages.partAddition));\r\n        break;\r\n      case ROUTES.PART_INFO:\r\n        setTitle(intl.formatMessage(messages.partInfo));\r\n        break;\r\n      case ROUTES.WORKSHOPS:\r\n      case ROUTES.WORKSHOP_ADD:\r\n      case ROUTES.WORKSHOP_ADD_Bulk:\r\n      case ROUTES.WORKSHOP_EDIT:\r\n        setTitle(intl.formatMessage(messages.workshop));\r\n        break;\r\n      case routes.orderRoute:\r\n        setTitle(intl.formatMessage(messages.orderList));\r\n        break;\r\n      default:\r\n        const routeName = location.pathname\r\n          .split('/')\r\n          [location.pathname.split('/').length - 1].split('-')\r\n          .join(' ');\r\n        setTitle(routeName);\r\n        return;\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  const updateTitle = (title) => {\r\n    setTitle(title);\r\n  };\r\n\r\n  return (\r\n    <TitleContext.Provider value={{ currentTitle, updateTitle }}>\r\n      <Layout title={currentTitle}>\r\n        <Switch>\r\n          <Route exact path={ROUTES.DASHBOARD} component={Dashboard} />\r\n          <Route exact path={ROUTES.ONBOARDING} component={DistributerInfo} />\r\n          <Route exact path={ROUTES.DISTRIBUTOR} component={DistributerInfo} />\r\n          <Route exact path={ROUTES.BRANCHES} component={BranchDashboard} />\r\n          <Route exact path={ROUTES.BRANCH_ADD} component={BranchInfo} />\r\n          <Route exact path={ROUTES.BRANCH_ADD_BULK} component={BranchBulk} />\r\n          <Route exact path={ROUTES.BRANCH_EDIT} component={BranchInfo} />\r\n          <Route exact path={ROUTES.EMPLOYEES} component={EmployeeDashboard} />\r\n          <Route\r\n            exact\r\n            path={ROUTES.EMPLOYEE_ADD}\r\n            component={EmployeeAddition}\r\n          />\r\n          <Route\r\n            exact\r\n            path={ROUTES.EMPLOYEE_ADD_BULK}\r\n            component={EmployeeBulk}\r\n          />\r\n          <Route exact path={ROUTES.PARTS} component={Parts} />\r\n          <Route exact path={ROUTES.PARTS_ADD} component={PartAddition} />\r\n          <Route exact path={ROUTES.PART_ADD_BULK} component={PartBulk} />\r\n          <Route exact path={ROUTES.PART_INFO} component={PartInfo} />\r\n          <Route exact path={ROUTES.PART_EDIT} component={PartAddition} />\r\n          <Route exact path={ROUTES.WORKSHOPS} component={Workshop} />\r\n          <Route\r\n            exact\r\n            path={ROUTES.WORKSHOP_ADD}\r\n            component={WorkshopAddition}\r\n          />\r\n          <Route\r\n            exact\r\n            path={ROUTES.WORKSHOP_ADD_Bulk}\r\n            component={WorkShopBulk}\r\n          />\r\n          <Route\r\n            exact\r\n            path={ROUTES.WORKSHOP_EDIT}\r\n            component={WorkshopAddition}\r\n          />\r\n          <Route path={routes.orderRoute} component={OrderList} />\r\n          <Route path={routes.accountRoute}>\r\n            <Accounts />\r\n          </Route>\r\n         {/*  <Route exact path={routes.accountBulkRoute}>\r\n            <AccountBulk />\r\n          </Route> */}\r\n          <Route\r\n            path={routes.outstandingRoute}\r\n            component={OutstandingAccount}\r\n          />\r\n          <Route path={routes.collectionsRoute} component={Collections} />\r\n          <Route path={routes.inventoryRoute} component={Inventory} />\r\n          <Route path={routes.stockTransferRoute} component={StockTransfer} />\r\n          <Route path={routes.salesRoute} component={Sales} />\r\n          <Route path={routes.placeOrderRoute} component={PlaceOrder} />\r\n        </Switch>\r\n      </Layout>\r\n    </TitleContext.Provider>\r\n  );\r\n};\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}