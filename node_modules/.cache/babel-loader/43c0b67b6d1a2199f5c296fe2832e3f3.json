{"ast":null,"code":"\"use strict\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LensBottom = void 0;\n\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\n\nconst react_1 = require(\"react\");\n\nconst clamp_1 = require(\"../../lib/clamp\");\n\nconst Lens_1 = require(\"./Lens\");\n\nexports.LensBottom = (0, react_1.forwardRef)((props, ref) => {\n  const {\n    cursorOffset,\n    position,\n    fadeDurationInMs,\n    isActive,\n    isPositionOutside,\n    style: parentSpecifiedStyle\n  } = props,\n        rest = __rest(props, [\"cursorOffset\", \"position\", \"fadeDurationInMs\", \"isActive\", \"isPositionOutside\", \"style\"]);\n\n  const typedRef = ref;\n\n  if (!(typedRef === null || typedRef === void 0 ? void 0 : typedRef.current)) {\n    return null;\n  }\n\n  const clearLensHeight = cursorOffset.y * 2;\n  const computedHeight = typedRef.current.offsetHeight - position.y - cursorOffset.y;\n  const maxHeight = typedRef.current.offsetHeight - clearLensHeight;\n  const height = (0, clamp_1.clamp)(computedHeight, 0, maxHeight);\n  const clearLensBottom = position.y + cursorOffset.y;\n  const top = Math.max(clearLensBottom, clearLensHeight);\n  const computedStyle = {\n    height: `${height}px`,\n    width: '100%',\n    top: `${top}px`\n  };\n  return (0, jsx_runtime_1.jsx)(Lens_1.Lens, Object.assign({\n    fadeDurationInMs: fadeDurationInMs,\n    isActive: isActive,\n    isPositionOutside: isPositionOutside,\n    style: Object.assign(Object.assign({}, parentSpecifiedStyle), computedStyle)\n  }, rest), void 0);\n});\nexports.LensBottom.displayName = 'LensBottom';","map":{"version":3,"sources":["../../../../src/lens/negative-space/LensBottom.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,MAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,MAAA,OAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,MAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AAGa,OAAA,CAAA,UAAA,GAAa,CAAA,GAAA,OAAA,CAAA,UAAA,EAAwC,CAAC,KAAD,EAAmB,GAAnB,KAA8C;AAC5G,QAAM;AACF,IAAA,YADE;AAEF,IAAA,QAFE;AAGF,IAAA,gBAHE;AAIF,IAAA,QAJE;AAKF,IAAA,iBALE;AAMF,IAAA,KAAK,EAAE;AANL,MAQF,KARJ;AAAA,QAOO,IAAI,GAAA,MAAA,CACP,KADO,EAPL,CAAA,cAAA,EAAA,UAAA,EAAA,kBAAA,EAAA,UAAA,EAAA,mBAAA,EAAA,OAAA,CAOK,CAPX;;AASA,QAAM,QAAQ,GAAI,GAAlB;;AAEA,MAAI,EAAC,QAAQ,KAAA,IAAR,IAAA,QAAQ,KAAA,KAAA,CAAR,GAAQ,KAAA,CAAR,GAAA,QAAQ,CAAE,OAAX,CAAJ,EAAwB;AACpB,WAAO,IAAP;AACH;;AAED,QAAM,eAAe,GAAG,YAAY,CAAC,CAAb,GAAiB,CAAzC;AACA,QAAM,cAAc,GAAG,QAAQ,CAAC,OAAT,CAAiB,YAAjB,GAAgC,QAAQ,CAAC,CAAzC,GAA6C,YAAY,CAAC,CAAjF;AACA,QAAM,SAAS,GAAG,QAAQ,CAAC,OAAT,CAAiB,YAAjB,GAAgC,eAAlD;AACA,QAAM,MAAM,GAAG,CAAA,GAAA,OAAA,CAAA,KAAA,EAAM,cAAN,EAAsB,CAAtB,EAAyB,SAAzB,CAAf;AACA,QAAM,eAAe,GAAG,QAAQ,CAAC,CAAT,GAAa,YAAY,CAAC,CAAlD;AACA,QAAM,GAAG,GAAG,IAAI,CAAC,GAAL,CAAS,eAAT,EAA0B,eAA1B,CAAZ;AACA,QAAM,aAAa,GAAG;AAClB,IAAA,MAAM,EAAE,GAAG,MAAM,IADC;AAElB,IAAA,KAAK,EAAE,MAFW;AAGlB,IAAA,GAAG,EAAE,GAAG,GAAG;AAHO,GAAtB;AAMA,SACI,CAAA,GAAA,aAAA,CAAA,GAAA,EAAC,MAAA,CAAA,IAAD,EAAK,MAAA,CAAA,MAAA,CAAA;AACD,IAAA,gBAAgB,EAAE,gBADjB;AAED,IAAA,QAAQ,EAAE,QAFT;AAGD,IAAA,iBAAiB,EAAE,iBAHlB;AAID,IAAA,KAAK,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACE,oBADF,CAAA,EAEE,aAFF;AAJJ,GAAA,EAQG,IARH,CAAL,EAQY,KAAA,CARZ,CADJ;AAYH,CAxCyB,CAAb;AA0Cb,OAAA,CAAA,UAAA,CAAW,WAAX,GAAyB,YAAzB","sourcesContent":["import { forwardRef, MutableRefObject } from 'react';\n\nimport { clamp } from 'src/lib/clamp';\nimport { Lens } from 'src/lens/negative-space/Lens';\nimport type { LensProps } from 'src/types';\n\nexport const LensBottom = forwardRef<HTMLImageElement, LensProps>((props: LensProps, ref): JSX.Element | null => {\n    const {\n        cursorOffset,\n        position,\n        fadeDurationInMs,\n        isActive,\n        isPositionOutside,\n        style: parentSpecifiedStyle,\n        ...rest\n    } = props;\n    const typedRef = (ref as MutableRefObject<HTMLImageElement>);\n\n    if (!typedRef?.current) {\n        return null;\n    }\n\n    const clearLensHeight = cursorOffset.y * 2;\n    const computedHeight = typedRef.current.offsetHeight - position.y - cursorOffset.y;\n    const maxHeight = typedRef.current.offsetHeight - clearLensHeight;\n    const height = clamp(computedHeight, 0, maxHeight);\n    const clearLensBottom = position.y + cursorOffset.y;\n    const top = Math.max(clearLensBottom, clearLensHeight);\n    const computedStyle = {\n        height: `${height}px`,\n        width: '100%',\n        top: `${top}px`,\n    };\n\n    return (\n        <Lens\n            fadeDurationInMs={fadeDurationInMs}\n            isActive={isActive}\n            isPositionOutside={isPositionOutside}\n            style={{\n                ...parentSpecifiedStyle,\n                ...computedStyle,\n            }}\n            {...rest}\n        />\n    );\n});\n\nLensBottom.displayName = 'LensBottom';\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}