{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { createBulkSales, fetchAllSales, fetchWorkshopAccounts, getFileQueue } from './service';\nconst salesSlice = createSlice({\n  name: 'salesSlice',\n  initialState: {\n    allSales: [],\n    workshopAccount: [],\n    workshopAccountList: [],\n    queuedFile: []\n  },\n  reducers: {\n    addAllSales: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.allSales = payload;\n    },\n    addWorkshopAccount: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.workshopAccount = payload;\n    },\n    addWorkshopAccountList: (state, _ref3) => {\n      let {\n        payload\n      } = _ref3;\n      state.workshopAccountList = payload;\n    },\n    addQueuedFile: (state, _ref4) => {\n      let {\n        payload\n      } = _ref4;\n      state.queuedFile = payload;\n    },\n    addSingleQueue: (state, _ref5) => {\n      let {\n        payload\n      } = _ref5;\n      state.queuedFile = [...state.queuedFile, payload];\n    }\n  }\n});\nexport const {\n  addAllSales,\n  addWorkshopAccount,\n  addWorkshopAccountList,\n  addQueuedFile,\n  addSingleQueue\n} = salesSlice.actions;\nexport const uploadBulkSales = payload => dispatcher => {\n  return createBulkSales(payload).then(response => {\n    return Promise.resolve(response);\n  }, error => {\n    if (error.response) {\n      return Promise.reject(error);\n    }\n  });\n};\nexport const getAllSales = payload => dispatcher => {\n  return fetchAllSales(payload).then(response => {\n    var _Object$values;\n\n    const data = (_Object$values = Object.values(response.data)) === null || _Object$values === void 0 ? void 0 : _Object$values.map((el, index) => {\n      return { ...el,\n        code: Object.keys(response.data)[index]\n      };\n    });\n    dispatcher(addAllSales(data));\n    return Promise.resolve(data);\n  }, error => {\n    if (error.response) {\n      return Promise.reject(error.response.data);\n    }\n  });\n};\nexport const getWorkshopAccounts = payload => dispatcher => {\n  return fetchWorkshopAccounts(payload).then(response => {\n    dispatcher(addWorkshopAccount([response.data.workshopAccounts]));\n    dispatcher(addWorkshopAccountList(response.data.accounts));\n    return Promise.resolve(response.data);\n  });\n};\nexport const getQueuedFiles = payload => dispatcher => {\n  return getFileQueue(payload).then(response => {\n    dispatcher(addQueuedFile(response.data));\n    return Promise.resolve(response.data);\n  }, error => {\n    if (error.response) {\n      return Promise.reject(error.response.data);\n    }\n  });\n};\nexport const selectSales = state => state.sales;\nexport default salesSlice.reducer;","map":{"version":3,"sources":["C:/Users/Acer/Desktop/Work/garaaz-distributor/src/containers/Sales/slice.js"],"names":["createSlice","createBulkSales","fetchAllSales","fetchWorkshopAccounts","getFileQueue","salesSlice","name","initialState","allSales","workshopAccount","workshopAccountList","queuedFile","reducers","addAllSales","state","payload","addWorkshopAccount","addWorkshopAccountList","addQueuedFile","addSingleQueue","actions","uploadBulkSales","dispatcher","then","response","Promise","resolve","error","reject","getAllSales","data","Object","values","map","el","index","code","keys","getWorkshopAccounts","workshopAccounts","accounts","getQueuedFiles","selectSales","sales","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport { createBulkSales, fetchAllSales, fetchWorkshopAccounts, getFileQueue} from './service';\r\n\r\n\r\nconst salesSlice = createSlice({\r\n    name: 'salesSlice',\r\n    initialState: {\r\n        allSales: [],\r\n        workshopAccount: [],\r\n        workshopAccountList: [],\r\n        queuedFile: [],\r\n    }, \r\n    reducers: {\r\n        addAllSales : (state, { payload }) => {\r\n            state.allSales = payload;\r\n        },\r\n        addWorkshopAccount: (state, {payload}) => {\r\n            state.workshopAccount = payload;\r\n        },\r\n        addWorkshopAccountList: (state, { payload }) => {\r\n            state.workshopAccountList = payload;\r\n        },\r\n        addQueuedFile: (state, { payload }) => {\r\n            state.queuedFile = payload;\r\n        },\r\n        addSingleQueue: (state, { payload }) => {\r\n            state.queuedFile = [...state.queuedFile, payload];\r\n        }\r\n    }\r\n});\r\n\r\nexport const { addAllSales, addWorkshopAccount, addWorkshopAccountList, addQueuedFile, addSingleQueue } = salesSlice.actions;\r\n\r\nexport const uploadBulkSales = (payload) => dispatcher => {\r\n    return createBulkSales(payload).then(\r\n        response => {\r\n            return Promise.resolve(response);\r\n        },\r\n        error => {\r\n            if(error.response){\r\n                return Promise.reject(error); \r\n            }\r\n        }\r\n    )\r\n}\r\n\r\nexport const getAllSales = (payload) => dispatcher => {\r\n    return fetchAllSales(payload).then(\r\n        response => {\r\n            const data = Object.values(response.data)?.map((el,index )=> {\r\n                return {...el, code: Object.keys(response.data)[index]}\r\n            })\r\n            dispatcher(addAllSales(data));\r\n            return Promise.resolve(data);\r\n        },\r\n        error => {\r\n            if(error.response){\r\n                return Promise.reject(error.response.data); \r\n            }\r\n        }\r\n    )\r\n}\r\n\r\nexport const getWorkshopAccounts = (payload) => dispatcher => {\r\n    return fetchWorkshopAccounts(payload).then(\r\n        response => {\r\n            dispatcher(addWorkshopAccount([response.data.workshopAccounts]));\r\n            dispatcher(addWorkshopAccountList(response.data.accounts));\r\n            return Promise.resolve(response.data);\r\n\r\n        }\r\n    )\r\n}\r\n\r\nexport const getQueuedFiles = (payload) => dispatcher => {\r\n    return getFileQueue(payload).then(\r\n        response => {\r\n            dispatcher(addQueuedFile(response.data));\r\n            return Promise.resolve(response.data);\r\n        },\r\n        error => {\r\n            if(error.response){\r\n                return Promise.reject(error.response.data); \r\n            }\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport const selectSales = state => state.sales;\r\n\r\n\r\n\r\nexport default salesSlice.reducer;"]},"metadata":{},"sourceType":"module"}